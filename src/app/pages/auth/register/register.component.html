<main>
  @if(!isConfirm){
  <section>
    <h1>Register</h1>
    <form [formGroup]="signupForm" (ngSubmit)="signUp()">
      <div class="form-group">
        <label for="email">Nombre de Usuario</label>
        <input
          id="email"
          type="email"
          pInputText
          formControlName="email"
          class="input-field"
        />
      </div>
      <div class="">
        <label for="password">Contraseña</label>
        <p-password
          formControlName="password"
          [toggleMask]="true"
          inputStyleClass="input-field"
          [style]="{ width: '100%' }"
          [inputStyle]="{
            width: '100%',
            padding: '0.5rem',
            border: '1px solid #d1d5db',
            borderRadius: '0.375rem',
            fontSize: '1rem',
            backgroundColor: '#fff'
          }"
        >
          <ng-template pTemplate="header">
            <h6>Ingresa una Contraseña</h6>
          </ng-template>
          <ng-template pTemplate="footer">
            <p-divider />
            <p class="mt-2">Sugerencias</p>
            <ul class="pl-2 ml-2 mt-0" style="line-height: 1.5">
              <li>Al menor una letra Minuscula</li>
              <li>Al menos una letra Mayuscula</li>
              <li>Al menos un numero</li>
              <li>Minimo 8 Caracteres</li>
            </ul>
          </ng-template>
        </p-password>
      </div>
      <div class="button-container">
        @if(loading){
         <p-progressSpinner 
         styleClass="w-2rem h-2rem" 
         strokeWidth="8" 
         fill="var(--surface-ground)" 
         animationDuration=".5s" />
        }

        @if(!loading){
          <p-button type="submit" label="Registrarme" [disabled]="loading" />
        }
       
      </div>
      <div class="register-container">
        <p>¿Ya tienes una cuenta?</p>
        <a routerLink="/login">Inicia sesion</a>
      </div>
    </form>
  </section>
  } @if(isConfirm){
  <section>
    <h1>Confirmacion</h1>

    <p class="confirmation_info_text">A su direccion de correo hemos enviado un codigo de verificacion, por favor revisa e ingrese dicho codigo aqui</p>
    <form [formGroup]="confirmForm" (ngSubmit)="confirmSignUp()">
      <div class="form-group-code">
        <label for="code">Codigo de Confirmacion</label>
        <div>
            <p-inputOtp id="code"  [integerOnly]="true" [length]="6" formControlName="code"/>
        </div>
        
      </div>
      <div class="button-container">
        @if(loading){
        <p-progressSpinner ariaLabel="loading" />
        }
        @if(!loading){
            <p-button type="submit" label="Confirmar" [disabled]="loading" />
        }
        
      </div>
    </form>
  </section>
  }
</main>
